# Topic 25. 단정적 프로그래밍
'그런일은 절대 일어나지 않을꺼야'라는 생각이 든다면 그런일을 확인하는 코드를 추가하자.  
가장 간단한 방법은 assertion을 사용하는것.  
```Java
assert result != null && result.size() > 0 : "XYZ의 결과가 비어 있음"; // 단정문에 꼭 설명을 넣자.
```
  
하지만 진짜 오류 처리를 해야 하는 곳에 단정을 대신 사용하지는 말라.
```Ruby
puts("'Y'나 'N'을 입력하시오: ")
ch = gets[0] # 응답의 첫 글자만 분리
assert((ch == 'Y') || (ch == 'N')) # 몹시 나쁜 생각이다!
```
> 이런 코드를 작성해서는 안 된다. 오류로 처리를 하자.

## 단정과 부작용
```Java
while (iter.hasMoreElements()) {
    assert(iter.nextElement() != null);
    Object obj = iter.nextElement();
    // ...
}
```
> 단정문 안에 있는 .nextElement() 호출은 이 호출이 반환하는 원소 다음으로 반복자를 이동시키는 부작용이 있다.
->
```Java
while (iter.hasMoreElements()) {
    Object obj = iter.nextElement();
    assert(obj != null);
    // ...
}
```
> 이런식으로 바꿔야함

이는 디버깅 행위가 디버깅 하려는 시스템의 행동을 바꾸는 상황.

## 단정 기능을 켜 둬라
```
단정은 코드를 느리게 만든다.
단정은 일어나서는 안 되는 일들을 검사하기 떄문에 코드 속에 버그가 있을 때만 단정 검사가 실패할 것이다.
일단 코드가 테스트되고 배포된 다음에는 더 이상 단정이 필요하지 않다.
그러니 코드 실행이 빨라지도록 단정을 꺼버려야 한다. 
단정은 디버깅 도구일 뿐이다.
```
> 틀림
  
1. 테스트가 모든 버그를 발견한다는 가정이 틀림
2. 낙관주의자들은 프로그램이 험한 세상에서 돌아간다는 사실을 잊는다.  
  




